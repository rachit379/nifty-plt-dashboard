<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>NIFTY 50 ‚Äî Power-Law Tension Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page">
  <div class="page">
    <!-- TOP SECTION -->
    <div class="top-row">
      <section class="brand-card">
        <div class="brand-title">NIFTY 50 ¬∑ Power-Law Tension</div>
        <div class="brand-subline">
          A compact, stateful view of <span>criticality</span>, <span>shocks</span>, <span>contagion</span> &amp; <span>direction</span> ‚Äî plus options &amp; news context.
        </div>
        <div class="hero-regime-pill">
          <span>Regime</span>
          <span id="regime-name">Loading‚Ä¶</span>
        </div>
        <div class="hero-regime-desc" id="regime-description">
          ‚Ä¶
        </div>
<!-- REGIME CHIP ROW -->
    <div class="chip-row">
      <button class="regime-chip active" data-regime="C">
        <span class="chip-dot elevated" id="chip-dot-C"></span>
        <span class="regime-chip-label">Criticality</span>
        <span class="regime-chip-category" id="chip-cat-C">‚Äî</span>
      </button>
      <button class="regime-chip" data-regime="S">
        <span class="chip-dot low" id="chip-dot-S"></span>
        <span class="regime-chip-label">Shocks</span>
        <span class="regime-chip-category" id="chip-cat-S">‚Äî</span>
      </button>
      <button class="regime-chip" data-regime="K">
        <span class="chip-dot moderate" id="chip-dot-K"></span>
        <span class="regime-chip-label">Contagion</span>
        <span class="regime-chip-category" id="chip-cat-K">‚Äî</span>
      </button>
      <button class="regime-chip" data-regime="D">
        <span class="chip-dot neutral" id="chip-dot-D"></span>
        <span class="regime-chip-label">Direction</span>
        <span class="regime-chip-category" id="chip-cat-D">‚Äî</span>
      </button>
    </div>
    <div class="regime-explainer" id="regime-explainer">
      Loading current fragility narrative‚Ä¶
    </div>
    <div class="regime-submetrics" id="regime-submetrics"></div>
    <div class="regime-sub-defs" id="regime-sub-defs"></div>

    
        <div class="brand-footer-row">
          <span id="regime-asof">As of ‚Äî</span>
        </div>
      </section>

      

<!-- DEFINITIONS TOGGLE + PANEL -->
    <div class="defs-row">
      <button class="defs-toggle" id="defs-toggle">
        <span class="icon">üõà</span>
        <span class="label">Definitions</span>
      </button>
    </div>
    <section class="defs-panel" id="defs-panel">
      <div class="defs-header">
        <div class="defs-header-title">Key Terms</div>
        <div class="defs-header-note">Quick glossary for PLT concepts ¬∑ Hover over ‚ìò icons for context in-place.</div>
      </div>
      <div class="defs-grid">
        <div>
          <div class="defs-item-title">Dryness</div>
          <div class="defs-item-body">
            How ‚Äúquiet‚Äù the tape is relative to normal ‚Äî realised volatility and intraday ranges vs typical levels.
            High dryness = calm price action where risk quietly builds because positioning and options can be crowded.
          </div>
        </div>
        <div>
          <div class="defs-item-title">IV vs RV</div>
          <div class="defs-item-body">
            Implied volatility from options (what traders are pricing) vs realised volatility (what actually happened).
            Elevated or critical IV vs RV = options are rich vs realised moves, often reflecting hedging demand / fear premia.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Crowding / Gamma</div>
          <div class="defs-item-body">
            How concentrated open interest and gamma exposure are around current spot. Critical crowding = heavy dealer
            gamma hedging nearby; intraday flows can pin or accelerate moves when spot moves through loaded strikes.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Put‚ÄìCall Positioning (PCR)</div>
          <div class="defs-item-body">
            Put‚Äìcall open interest balance and where risk is parked. One-sided PCR (too many puts or calls) means
            unwinds and dealer hedging can add fuel to moves when the market surprises the crowd.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Shock Score (S)</div>
          <div class="defs-item-body">
            How ‚Äújumpy‚Äù the tape has been: gaps, intraday range, and volume vs history. Elevated or critical = markets
            are already in a shocky state, making follow-through and overshoots more likely.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Contagion Score (K)</div>
          <div class="defs-item-body">
            Breadth, co-movement, and correlation across sectors / assets. High contagion = moves in one pocket of the
            market quickly spill into others ‚Äî good for trend trades, bad for complacent carry.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Regime C ¬∑ Criticality</div>
          <div class="defs-item-body">
            System-wide fragility from dryness, IV vs RV, crowding, and PCR rolled up into a single state.
            Critical = small shocks can create large, non-linear moves; low = shocks are more easily absorbed.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Regime S / K / D</div>
          <div class="defs-item-body">
            <b>S</b> captures shockiness (gap/range/volume), <b>K</b> captures contagion / breadth, and <b>D</b> captures directional bias:
            trend vs mean reversion. Together with C, they summarise how jumpy, connected, and directional NIFTY feels.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Long vs Short Gamma</div>
          <div class="defs-item-body">
            Long gamma = buying optionality (e.g., long options) and benefiting from realised moves.
            Short gamma = selling optionality and betting moves stay contained. In fragile regimes, short gamma is
            higher risk, especially overnight.
          </div>
        </div>
        <div>
          <div class="defs-item-title">Breakout / Breakdown Plans</div>
          <div class="defs-item-body">
            Systematic levels for trend trades (long breakout / short breakdown) using spot, stops, and targets.
            R multiples show reward vs risk if the plan plays out to T1 or T2, so you know if the setup is worth taking.
          </div>
        </div>
      </div>
    </section>

    
<!-- SNAPSHOT + EVENTS BLOCK -->
    <div class="nifty-events-column">
      <section class="nifty-card">
        <div class="nifty-header">
          <div class="nifty-label">Nifty 50 Snapshot</div>
          <div class="nifty-asof" id="spot-asof">Spot levels as of ‚Äî</div>
        </div>
        <div class="nifty-main">
          <div>
            <div class="nifty-spot" id="nifty-spot">‚Äî</div>
            <div class="nifty-change" id="nifty-change"></div>
          </div>
          <div class="nifty-range" id="nifty-range">Day range ‚Äî</div>
        </div>
        <div class="nifty-mini-grid">
          <div class="mini-stat">
            <div class="mini-stat-label">20D Range</div>
            <div class="mini-stat-value" id="range-20d">‚Äî</div>
          </div>
          <div class="mini-stat">
            <div class="mini-stat-label">52W Range</div>
            <div class="mini-stat-value" id="range-52w">‚Äî</div>
          </div>
          <div class="mini-stat">
            <div class="mini-stat-label">ATR(14)</div>
            <div class="mini-stat-value" id="atr-14">‚Äî</div>
          </div>
        </div>
      </section>

      <section class="panel events-panel">
        <div class="panel-header">
          <h2>Upcoming Events</h2>
          <p class="panel-subtitle">Key macro releases ¬∑ toggle India / Global</p>
        </div>
        <div class="events-filter-row">
          <button class="events-filter-button active" data-scope="INR">India</button>
          <button class="events-filter-button" data-scope="USD">Global</button>
        </div>
        <div class="events-list" id="events-list">
          <div class="events-empty">Loading events‚Ä¶</div>
        </div>
      </section>
    </div>

        <!-- MAIN GRID -->
    <div class="main-grid">\n  <div class="main-col main-left">\n      <section class="panel snapshot-panel">
        <div class="panel-header">
          <h2>NIFTY 50 Snapshot</h2>
          <p class="panel-subtitle">Spot, range, and realised volatility context</p>
        </div>
        <div class="snapshot-body">
          <div class="snapshot-main">
            <div class="snapshot-spot">
              <div class="snapshot-label">Index</div>
              <div class="snapshot-value" id="nifty-spot">‚Äî</div>
            </div>
            <div class="snapshot-change-block">
              <div class="snapshot-label">Change</div>
              <div class="snapshot-change" id="nifty-change">‚Äî</div>
              <div class="snapshot-range" id="nifty-range">‚Äî</div>
            </div>
          </div>
          <div class="snapshot-grid">
            <div class="snapshot-card">
              <div class="snapshot-card-label">20D Range</div>
              <div class="snapshot-card-range" id="nifty-20d-range">‚Äî</div>
            </div>
            <div class="snapshot-card">
              <div class="snapshot-card-label">52W Range</div>
              <div class="snapshot-card-range" id="nifty-52w-range">‚Äî</div>
            </div>
            <div class="snapshot-card">
              <div class="snapshot-card-label">ATR(14)</div>
              <div class="snapshot-card-range" id="nifty-atr">‚Äî</div>
            </div>
          </div>
          <div class="snapshot-asof" id="spot-asof">Spot levels as of ‚Äî</div>
        </div>
      </section>
<section class="panel">
        <div class="panel-header">
          <h2>State &amp; Playbook</h2>
          <p class="panel-subtitle">From systemic fragility to intraday &amp; options decisions</p>
        </div>

        <div class="tab-bar">
          <button class="tab-button active" data-tab="summary">Summary</button>
          <button class="tab-button" data-tab="intraday">Intraday Playbook</button>
          <button class="tab-button" data-tab="options">Options Playbook</button>
        </div>

        <!-- SUMMARY TAB -->
        <div class="tab-panel active" id="tab-summary">
          <table class="metric-table">
            <tbody>
              <tr>
                <th>
                  Dryness
                  <span class="info-dot"
                        data-tooltip="Realised vol vs typical levels. Elevated dryness = calm tape where risk quietly builds.">
                    i
                  </span>
                </th>
                <td>
                  <div class="metric-cell">
                    <span class="metric-value" id="metric-dryness-value">‚Äî</span>
                    <span id="metric-dryness-badge"></span>
                    <div class="metric-bar">
                      <div id="metric-dryness-bar" class="metric-bar-fill"></div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th>
                  IV vs RV
                  <span class="info-dot"
                        data-tooltip="Implied volatility vs realised. Critical = options very rich vs actual realised moves.">
                    i
                  </span>
                </th>
                <td>
                  <div class="metric-cell">
                    <span class="metric-value" id="metric-ivrv-value">‚Äî</span>
                    <span id="metric-ivrv-badge"></span>
                    <div class="metric-bar">
                      <div id="metric-ivrv-bar" class="metric-bar-fill"></div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th>
                  Crowding / Gamma
                  <span class="info-dot"
                        data-tooltip="How loaded options gamma &amp; OI are around spot. Critical = heavy gamma near current level.">
                    i
                  </span>
                </th>
                <td>
                  <div class="metric-cell">
                    <span class="metric-value" id="metric-crowding-value">‚Äî</span>
                    <span id="metric-crowding-badge"></span>
                    <div class="metric-bar">
                      <div id="metric-crowding-bar" class="metric-bar-fill"></div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th>
                  Put‚ÄìCall Positioning
                  <span class="info-dot"
                        data-tooltip="Put‚Äìcall OI tension. Low = balanced, high = one-sided risk skew susceptible to squeezes/unwinds.">
                    i
                  </span>
                </th>
                <td>
                  <div class="metric-cell">
                    <span class="metric-value" id="metric-pcr-value">‚Äî</span>
                    <span id="metric-pcr-badge"></span>
                    <div class="metric-bar">
                      <div id="metric-pcr-bar" class="metric-bar-fill"></div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th>
                  Shock Score
                  <span class="info-dot"
                        data-tooltip="Gap, intraday range, and volume vs recent history. Higher = more jumpy, shock-prone tape.">
                    i
                  </span>
                </th>
                <td>
                  <div class="metric-cell">
                    <span class="metric-value" id="metric-shock-score">‚Äî</span>
                    <span id="metric-shock-badge"></span>
                    <div class="metric-bar">
                      <div id="metric-shock-bar" class="metric-bar-fill"></div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th>
                  Contagion Score
                  <span class="info-dot"
                        data-tooltip="Breadth and co-movement across sectors and assets; higher = moves spread faster.">
                    i
                  </span>
                </th>
                <td>
                  <div class="metric-cell">
                    <span class="metric-value" id="metric-contagion-score">‚Äî</span>
                    <span id="metric-contagion-badge"></span>
                    <div class="metric-bar">
                      <div id="metric-contagion-bar" class="metric-bar-fill"></div>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="metric-note">
            Scores are 0‚Äì1 tension measures summarised into Low / Moderate / Elevated / Critical categories from your PLT engine.
          </div>
        </div>

        <!-- INTRADAY TAB -->
        <div class="tab-panel" id="tab-intraday">
          <div class="pill-row">
            <div class="pill" id="pill-mode">Mode: ‚Äî</div>
            <div class="pill" id="pill-meanrev">Mean reversion: ‚Äî</div>
            <div class="pill" id="pill-breakout">Breakout trend: ‚Äî</div>
            <div class="pill" id="pill-vol">Vol regime: ‚Äî</div>
            <div class="pill" id="pill-bias">Directional bias: ‚Äî</div>
          </div>
          <ul class="note-list" id="intraday-notes"></ul>
        </div>

        <!-- OPTIONS TAB -->
        <div class="tab-panel" id="tab-options">
          <div class="pill-row">
            <div class="pill" id="pill-gamma-long">Long gamma: ‚Äî</div>
            <div class="pill" id="pill-gamma-short-intra">Short gamma (intraday): ‚Äî</div>
            <div class="pill" id="pill-gamma-short-overnight">Short gamma (overnight): ‚Äî</div>
          </div>

          <div class="plan-grid">
            <div class="plan-card">
              <div class="plan-title long">Long Breakout Plan</div>
              <div class="plan-row">
                <span class="plan-label">Entry</span>
                <span class="plan-value" id="long-entry">‚Äî</span>
              </div>
              <div class="plan-row">
                <span class="plan-label">Stop</span>
                <span class="plan-value" id="long-stop">‚Äî</span>
              </div>
              <div class="plan-row">
                <span class="plan-label">T1 / T2</span>
                <span class="plan-value" id="long-targets">‚Äî</span>
              </div>
              <div class="plan-row">
                <span class="plan-label">R @ T1/T2</span>
                <span class="plan-value" id="long-R">‚Äî</span>
              </div>
            </div>

            <div class="plan-card">
              <div class="plan-title short">Short Breakdown Plan</div>
              <div class="plan-row">
                <span class="plan-label">Entry</span>
                <span class="plan-value" id="short-entry">‚Äî</span>
              </div>
              <div class="plan-row">
                <span class="plan-label">Stop</span>
                <span class="plan-value" id="short-stop">‚Äî</span>
              </div>
              <div class="plan-row">
                <span class="plan-label">T1 / T2</span>
                <span class="plan-value" id="short-targets">‚Äî</span>
              </div>
              <div class="plan-row">
                <span class="plan-label">R @ T1/T2</span>
                <span class="plan-value" id="short-R">‚Äî</span>
              </div>
            </div>
          </div>

          <div class="options-note" id="options-notes"></div>
        </div>
      </section>

      <!-- RIGHT: NEWS -->
      \n  </div>\n  <div class="main-col main-right">\n      <section class="panel events-panel">
        <div class="panel-header">
          <h2>Upcoming Events</h2>
          <p class="panel-subtitle">Key macro releases ¬∑ toggle India / Global</p>
        </div>
        <div class="events-filter-row">
          <button class="events-filter-button active" data-scope="INR">India</button>
          <button class="events-filter-button" data-scope="USD">Global</button>
        </div>
        <div class="events-list" id="events-list">
          <div class="events-empty">Loading events‚Ä¶</div>
        </div>
      </section>
<section class="panel">
        <div class="panel-header">
          <h2>Market &amp; NIFTY News</h2>
          <p class="panel-subtitle">Filtered for context ‚Äî macro, index, stocks, flows &amp; policy</p>
        </div>

        <div class="news-filter-bar">
          <button class="news-filter active" data-filter="all">All</button>
          <button class="news-filter" data-filter="macro">Macro</button>
          <button class="news-filter" data-filter="index">Index</button>
          <button class="news-filter" data-filter="stocks">Stocks</button>
          <button class="news-filter" data-filter="fx">FX &amp; Commodities</button>
          <button class="news-filter" data-filter="flows">Flows &amp; Policy</button>
        </div>

        <div id="news-list" class="news-list">
          <div class="news-empty">Loading news‚Ä¶</div>
        </div>

        <div class="footnote">
          Indicative only; not advice. Always cross-check with full data and your own judgement.
        </div>
      </section>
\n  </div>\n</div>\n    </div>
  </div>

  
  </div>
  <script src="app.js"></script>
</body>
</html>
